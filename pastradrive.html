<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drive Direct Access</title>
    
    <!-- Tailwind CSS (Estilos) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React e ReactDOM (Motor do Site) -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    
    <!-- Babel (Tradutor de código) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* Animações simples */
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .animate-spin { animation: spin 1s linear infinite; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 font-sans">
    
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Ícones ---
        const IconWrapper = ({ children, className, onClick }) => (
            <svg onClick={onClick} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const Folder = ({ className }) => <IconWrapper className={className}><path d="M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z"/></IconWrapper>;
        const FolderOpen = ({ className }) => <IconWrapper className={className}><path d="m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2"/></IconWrapper>;
        const FileText = ({ className }) => <IconWrapper className={className}><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/></IconWrapper>;
        const ImageIcon = ({ className }) => <IconWrapper className={className}><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></IconWrapper>;
        const Film = ({ className }) => <IconWrapper className={className}><rect width="20" height="20" x="2" y="2" rx="2.18" ry="2.18"/><line x1="7" x2="7" y1="2" y2="22"/><line x1="17" x2="17" y1="2" y2="22"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="2" x2="7" y1="7" y2="7"/><line x1="2" x2="7" y1="17" y2="17"/><line x1="17" x2="22" y1="17" y2="17"/><line x1="17" x2="22" y1="7" y2="7"/></IconWrapper>;
        const Music = ({ className }) => <IconWrapper className={className}><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></IconWrapper>;
        const Download = ({ className }) => <IconWrapper className={className}><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></IconWrapper>;
        const Search = ({ className }) => <IconWrapper className={className}><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></IconWrapper>;
        const AlertCircle = ({ className }) => <IconWrapper className={className}><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></IconWrapper>;
        const Key = ({ className }) => <IconWrapper className={className}><circle cx="7.5" cy="15.5" r="5.5"/><path d="m21 2-9.6 9.6"/><path d="m15.5 7.5 3 3L22 7l-3-3"/></IconWrapper>;
        const LinkIcon = ({ className }) => <IconWrapper className={className}><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></IconWrapper>;
        const Loader2 = ({ className }) => <IconWrapper className={className}><path d="M21 12a9 9 0 1 1-6.219-8.56"/></IconWrapper>;
        const File = ({ className }) => <IconWrapper className={className}><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/></IconWrapper>;
        const Eye = ({ className }) => <IconWrapper className={className}><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></IconWrapper>;
        const ChevronRight = ({ className }) => <IconWrapper className={className}><path d="m9 18 6-6-6-6"/></IconWrapper>;
        const Home = ({ className }) => <IconWrapper className={className}><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></IconWrapper>;

        // --- Componente Principal ---
        const App = () => {
            const [apiKey, setApiKey] = useState('');
            const [folderLink, setFolderLink] = useState('');
            const [files, setFiles] = useState([]);
            const [loading, setLoading] = useState(false);
            const [error, setError] = useState(null);
            const [viewMode, setViewMode] = useState('grid');
            
            // Navegação
            const [breadcrumbs, setBreadcrumbs] = useState([]); // [{id, name}]
            const [currentFolderId, setCurrentFolderId] = useState(null);

            // Mock Data (com pastas)
            const mockFiles = {
                'root': [
                    { id: 'folder1', name: 'Documentos', mimeType: 'application/vnd.google-apps.folder', size: '', icon: 'folder' },
                    { id: 'folder2', name: 'Imagens', mimeType: 'application/vnd.google-apps.folder', size: '', icon: 'folder' },
                    { id: '1', name: 'Relatório_Geral.pdf', mimeType: 'application/pdf', size: '2.4 MB', icon: 'pdf', webViewLink: '#' },
                ],
                'folder1': [
                    { id: 'subfolder1', name: '2024', mimeType: 'application/vnd.google-apps.folder', size: '', icon: 'folder' },
                    { id: '5', name: 'Anotações.txt', mimeType: 'text/plain', size: '12 KB', icon: 'text', webViewLink: '#' },
                ],
                'folder2': [
                     { id: '2', name: 'Logo.png', mimeType: 'image/png', size: '450 KB', icon: 'image', webViewLink: '#' },
                ],
                'subfolder1': [
                    { id: '6', name: 'Planilha_Final.xlsx', mimeType: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', size: '1.2 MB', icon: 'sheet', webViewLink: '#' },
                ]
            };

            const extractFolderId = (url) => {
                if (!url) return null;
                const match = url.match(/folders\/([\w-]+)/);
                if (match && match[1]) return match[1];
                if (url.length > 20 && !url.includes('http')) return url;
                return null;
            };

            // Efeito para ler URL Params automaticamente
            useEffect(() => {
                const params = new URLSearchParams(window.location.search);
                const keyFromUrl = params.get('key');
                const folderFromUrl = params.get('folder');

                if (keyFromUrl && folderFromUrl) {
                    setApiKey(keyFromUrl);
                    setFolderLink(folderFromUrl);
                    
                    const rootId = extractFolderId(folderFromUrl);
                    if (rootId) {
                        setBreadcrumbs([{ id: rootId, name: 'Início' }]);
                        // Chama o fetch passando a chave diretamente para não depender do delay do estado
                        fetchFiles(rootId, keyFromUrl);
                    }
                }
            }, []);

            // Inicializa a busca manual (clique no botão)
            const handleInitialFetch = () => {
                const rootId = extractFolderId(folderLink);
                if (!rootId) {
                    setError('Link inválido.');
                    return;
                }
                setBreadcrumbs([{ id: rootId, name: 'Início' }]);
                fetchFiles(rootId);
            };

            // Busca arquivos (aceita keyOverride para o carregamento inicial automático)
            const fetchFiles = async (folderId, keyOverride = null) => {
                setError(null);
                setLoading(true);
                setFiles([]);
                setCurrentFolderId(folderId);

                // Determina qual chave usar (do parametro ou do estado)
                const activeKey = keyOverride || apiKey;
                const activeLink = folderLink || 'demo';

                // Modo Demo
                if (!activeKey && activeLink === 'demo') {
                    setTimeout(() => {
                        const demoData = mockFiles[folderId] || mockFiles['root'];
                        setFiles(demoData);
                        setLoading(false);
                    }, 500);
                    return;
                }

                if (!activeKey) {
                    setError('API Key necessária.');
                    setLoading(false);
                    return;
                }

                try {
                    const response = await fetch(
                        `https://www.googleapis.com/drive/v3/files?q='${folderId}'+in+parents+and+trashed=false&fields=files(id,name,mimeType,webContentLink,webViewLink,thumbnailLink,size)&key=${activeKey}&orderBy=folder,name`
                    );

                    if (!response.ok) {
                        const errData = await response.json();
                        throw new Error(errData.error?.message || 'Erro ao buscar arquivos');
                    }

                    const data = await response.json();
                    setFiles(data.files || []);
                } catch (err) {
                    console.error(err);
                    setError(`Erro: ${err.message}.`);
                } finally {
                    setLoading(false);
                }
            };

            // Navegar para dentro de uma pasta
            const handleNavigate = (folder) => {
                if (folder.mimeType === 'application/vnd.google-apps.folder') {
                    setBreadcrumbs([...breadcrumbs, { id: folder.id, name: folder.name }]);
                    fetchFiles(folder.id);
                }
            };

            // Clicar no breadcrumb para voltar
            const handleBreadcrumbClick = (crumb, index) => {
                const newBreadcrumbs = breadcrumbs.slice(0, index + 1);
                setBreadcrumbs(newBreadcrumbs);
                fetchFiles(crumb.id);
            };

            const loadDemo = () => {
                setFolderLink('demo');
                setBreadcrumbs([{ id: 'root', name: 'Início (Demo)' }]);
                setLoading(true);
                setTimeout(() => {
                    setFiles(mockFiles['root']);
                    setLoading(false);
                    setCurrentFolderId('root');
                }, 800);
            };

            const getFileIcon = (mimeType) => {
                if (mimeType === 'application/vnd.google-apps.folder') return <Folder className="text-yellow-500 w-10 h-10 fill-yellow-100" />;
                if (mimeType.includes('pdf')) return <FileText className="text-red-500 w-10 h-10" />;
                if (mimeType.includes('image')) return <ImageIcon className="text-blue-500 w-10 h-10" />;
                if (mimeType.includes('video')) return <Film className="text-purple-500 w-10 h-10" />;
                if (mimeType.includes('audio')) return <Music className="text-pink-500 w-10 h-10" />;
                if (mimeType.includes('sheet') || mimeType.includes('csv')) return <FileText className="text-green-600 w-10 h-10" />;
                return <File className="text-gray-500 w-10 h-10" />;
            };

            const formatSize = (bytes) => {
                if (!bytes) return '-';
                if (typeof bytes === 'string') return bytes;
                const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];
                if (bytes === 0) return '0 Byte';
                const i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));
                return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];
            };

            const isViewable = (mimeType) => {
                return mimeType.includes('pdf') || mimeType.includes('image') || mimeType.includes('video');
            };

            const isFolder = (mimeType) => mimeType === 'application/vnd.google-apps.folder';

            return (
                <div className="min-h-screen bg-slate-50 text-slate-800 font-sans">
                    <header className="bg-white border-b border-slate-200 sticky top-0 z-10 shadow-sm">
                        <div className="max-w-6xl mx-auto px-4 py-4 flex flex-col md:flex-row items-center justify-between gap-4">
                            <div className="flex items-center gap-2">
                                <div className="bg-blue-600 p-2 rounded-lg">
                                    <FolderOpen className="text-white w-6 h-6" />
                                </div>
                                <h1 className="text-xl font-bold text-slate-800">Drive Direct Access</h1>
                            </div>
                            
                            <div className="flex gap-2">
                                <button onClick={() => setViewMode('grid')} className={`p-2 rounded hover:bg-slate-100 ${viewMode === 'grid' ? 'bg-slate-200 text-blue-600' : 'text-slate-500'}`}>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>
                                </button>
                                <button onClick={() => setViewMode('list')} className={`p-2 rounded hover:bg-slate-100 ${viewMode === 'list' ? 'bg-slate-200 text-blue-600' : 'text-slate-500'}`}>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg>
                                </button>
                            </div>
                        </div>
                    </header>

                    <main className="max-w-6xl mx-auto px-4 py-8">
                        
                        {/* Configuração (Só aparece se não tiver carregado nada automaticamente) */}
                        {files.length === 0 && !loading && (
                            <div className="bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-8 transition-all">
                                <h2 className="text-lg font-semibold mb-4 flex items-center gap-2">
                                    <Search className="w-5 h-5 text-blue-600" />
                                    Conectar Pasta
                                </h2>
                                
                                <div className="grid md:grid-cols-2 gap-4 mb-4">
                                    <div className="relative">
                                        <label className="block text-xs font-medium text-slate-500 mb-1 ml-1">Link da Pasta do Drive</label>
                                        <div className="relative">
                                            <div className="absolute left-3 top-3 w-4 h-4 text-slate-400"><LinkIcon className="w-4 h-4" /></div>
                                            <input type="text" value={folderLink} onChange={(e) => setFolderLink(e.target.value)} placeholder="https://drive.google.com/drive/folders/..." className="w-full pl-9 pr-4 py-2 bg-slate-50 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none" />
                                        </div>
                                    </div>
                                    <div className="relative">
                                        <label className="block text-xs font-medium text-slate-500 mb-1 ml-1">Google API Key</label>
                                        <div className="relative">
                                            <div className="absolute left-3 top-3 w-4 h-4 text-slate-400"><Key className="w-4 h-4" /></div>
                                            <input type="password" value={apiKey} onChange={(e) => setApiKey(e.target.value)} placeholder="Cole sua API Key aqui..." className="w-full pl-9 pr-4 py-2 bg-slate-50 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none" />
                                        </div>
                                    </div>
                                </div>

                                <div className="flex flex-col sm:flex-row gap-3">
                                    <button onClick={handleInitialFetch} disabled={loading} className="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors disabled:opacity-70">
                                        {loading ? <Loader2 className="animate-spin w-5 h-5" /> : 'Acessar Pasta'}
                                    </button>
                                    <button onClick={loadDemo} disabled={loading} className="flex-none bg-emerald-100 hover:bg-emerald-200 text-emerald-800 font-medium py-2.5 px-6 rounded-lg transition-colors border border-emerald-200">
                                        Testar Demo
                                    </button>
                                </div>
                                {error && (
                                    <div className="mt-4 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg flex items-start gap-3">
                                        <AlertCircle className="w-5 h-5 shrink-0 mt-0.5" />
                                        <div className="text-sm">{error}</div>
                                    </div>
                                )}
                            </div>
                        )}

                        {/* Breadcrumbs (Navegação) */}
                        {breadcrumbs.length > 0 && (
                            <nav className="flex items-center gap-2 text-sm text-slate-500 mb-6 bg-white p-3 rounded-lg border border-slate-200 shadow-sm overflow-x-auto whitespace-nowrap">
                                <button 
                                    onClick={() => { setBreadcrumbs([]); setFiles([]); setFolderLink(''); }}
                                    className="p-1 hover:bg-slate-100 rounded text-slate-400"
                                    title="Sair / Trocar Pasta"
                                >
                                    <Search className="w-4 h-4" />
                                </button>
                                <div className="w-px h-4 bg-slate-300 mx-1"></div>
                                {breadcrumbs.map((crumb, index) => (
                                    <React.Fragment key={crumb.id}>
                                        <button 
                                            onClick={() => handleBreadcrumbClick(crumb, index)}
                                            className={`hover:text-blue-600 font-medium px-2 py-1 rounded hover:bg-blue-50 transition-colors ${index === breadcrumbs.length - 1 ? 'text-slate-800 font-bold' : ''}`}
                                        >
                                            {index === 0 ? <span className="flex items-center gap-1"><Home className="w-4 h-4 mb-0.5" /> Início</span> : crumb.name}
                                        </button>
                                        {index < breadcrumbs.length - 1 && <ChevronRight className="w-4 h-4 text-slate-300" />}
                                    </React.Fragment>
                                ))}
                            </nav>
                        )}

                        {/* Lista de Arquivos */}
                        {files.length > 0 ? (
                            <div>
                                {viewMode === 'grid' ? (
                                    <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                                        {files.map((file) => (
                                            <div 
                                                key={file.id} 
                                                onClick={() => isFolder(file.mimeType) ? handleNavigate(file) : null}
                                                className={`group bg-white p-4 rounded-xl border transition-all flex flex-col h-full relative ${
                                                    isFolder(file.mimeType) 
                                                    ? 'border-yellow-200 hover:border-yellow-400 hover:shadow-yellow-100 cursor-pointer shadow-sm hover:shadow-md' 
                                                    : 'border-slate-200 hover:border-blue-300 hover:shadow-md'
                                                }`}
                                            >
                                                <div className="flex items-start justify-between mb-3">
                                                    <div className={`p-2 rounded-lg transition-colors ${isFolder(file.mimeType) ? 'bg-yellow-50 group-hover:bg-yellow-100' : 'bg-slate-50 group-hover:bg-blue-50'}`}>
                                                        {getFileIcon(file.mimeType)}
                                                    </div>
                                                    {!isFolder(file.mimeType) && (
                                                        <span className="text-xs font-mono text-slate-400 bg-slate-100 px-2 py-1 rounded">{formatSize(file.size)}</span>
                                                    )}
                                                </div>
                                                
                                                <h4 className="font-medium text-slate-700 text-sm mb-1 line-clamp-2 flex-grow" title={file.name}>
                                                    {file.name}
                                                </h4>
                                                
                                                {!isFolder(file.mimeType) ? (
                                                    <div className="mt-4 pt-3 border-t border-slate-100 flex gap-2">
                                                        {isViewable(file.mimeType) && (
                                                            <a href={file.webViewLink || `https://drive.google.com/file/d/${file.id}/view`} target="_blank" rel="noopener noreferrer" className="flex-1 bg-white hover:bg-slate-50 border border-slate-200 text-slate-700 text-sm py-2 px-3 rounded-lg flex items-center justify-center gap-2 transition-colors">
                                                                <Eye className="w-4 h-4" />
                                                            </a>
                                                        )}
                                                        <a href={file.webContentLink || `https://drive.google.com/uc?export=download&id=${file.id}`} target="_blank" rel="noopener noreferrer" className="flex-1 bg-slate-800 hover:bg-slate-900 text-white text-sm py-2 px-3 rounded-lg flex items-center justify-center gap-2 transition-colors">
                                                            <Download className="w-4 h-4" /> Baixar
                                                        </a>
                                                    </div>
                                                ) : (
                                                    <div className="mt-auto pt-2 text-xs text-yellow-600 font-medium flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity">
                                                        Abrir Pasta <ChevronRight className="w-3 h-3" />
                                                    </div>
                                                )}
                                            </div>
                                        ))}
                                    </div>
                                ) : (
                                    <div className="bg-white rounded-xl border border-slate-200 overflow-hidden shadow-sm">
                                        <table className="w-full text-left text-sm text-slate-600">
                                            <thead className="bg-slate-50 border-b border-slate-200">
                                                <tr>
                                                    <th className="px-6 py-3 font-semibold w-8"></th>
                                                    <th className="px-2 py-3 font-semibold">Nome</th>
                                                    <th className="px-6 py-3 font-semibold w-32">Tamanho</th>
                                                    <th className="px-6 py-3 font-semibold text-right w-48">Ação</th>
                                                </tr>
                                            </thead>
                                            <tbody className="divide-y divide-slate-100">
                                                {files.map((file) => (
                                                    <tr 
                                                        key={file.id} 
                                                        onClick={() => isFolder(file.mimeType) ? handleNavigate(file) : null}
                                                        className={`transition-colors ${isFolder(file.mimeType) ? 'hover:bg-yellow-50 cursor-pointer' : 'hover:bg-slate-50'}`}
                                                    >
                                                        <td className="pl-6 py-3 text-center">
                                                            {getFileIcon(file.mimeType)}
                                                        </td>
                                                        <td className="px-2 py-3">
                                                            <span className={`font-medium ${isFolder(file.mimeType) ? 'text-slate-800' : 'text-slate-700'}`}>{file.name}</span>
                                                        </td>
                                                        <td className="px-6 py-3 font-mono text-slate-500">{formatSize(file.size)}</td>
                                                        <td className="px-6 py-3 text-right">
                                                            {!isFolder(file.mimeType) ? (
                                                                <div className="flex items-center justify-end gap-3">
                                                                    {isViewable(file.mimeType) && (
                                                                        <a href={file.webViewLink || `https://drive.google.com/file/d/${file.id}/view`} target="_blank" rel="noopener noreferrer" className="inline-flex items-center gap-1.5 text-slate-600 hover:text-blue-600 font-medium" onClick={(e) => e.stopPropagation()}><Eye className="w-4 h-4" /> Ler</a>
                                                                    )}
                                                                    <a href={file.webContentLink || `https://drive.google.com/uc?export=download&id=${file.id}`} target="_blank" rel="noopener noreferrer" className="inline-flex items-center gap-1.5 text-blue-600 hover:text-blue-800 font-medium" onClick={(e) => e.stopPropagation()}><Download className="w-4 h-4" /> Baixar</a>
                                                                </div>
                                                            ) : (
                                                                <span className="text-yellow-600 text-xs font-bold uppercase tracking-wide">Abrir</span>
                                                            )}
                                                        </td>
                                                    </tr>
                                                ))}
                                            </tbody>
                                        </table>
                                    </div>
                                )}
                            </div>
                        ) : (
                            !loading && breadcrumbs.length > 0 && (
                                <div className="text-center py-20 bg-white rounded-xl border border-dashed border-slate-300">
                                    <div className="bg-slate-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                                        <FolderOpen className="w-8 h-8 text-slate-400" />
                                    </div>
                                    <h3 className="text-slate-600 font-medium">Pasta Vazia</h3>
                                    <p className="text-slate-400 text-sm mt-1">Não há arquivos nesta pasta.</p>
                                </div>
                            )
                        )}
                        
                        {loading && (
                            <div className="flex justify-center py-20">
                                <Loader2 className="w-10 h-10 text-blue-600 animate-spin" />
                            </div>
                        )}
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
